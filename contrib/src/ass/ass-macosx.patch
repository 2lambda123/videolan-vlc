From e20ef56993823cfdbf29825a686e7632285111c6 Mon Sep 17 00:00:00 2001
From: Naohiro Koriyama <nkoriyama@gmail.com>
Date: Wed, 29 Aug 2012 16:44:16 +0200
Subject: [PATCH] added fontconfig font search paths for OS X.
MIME-Version: 1.0
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 8bit

On OS X, fontconfig searches font only from /System/Library/Fonts, so this patch adds more search paths to its initialization.

Signed-off-by: Felix Paul KÃ¼hne <fkuehne@videolan.org>
---
 libass/ass_fontconfig.c | 3 +++
 1 file changed, 3 insertions(+)

diff --git a/libass/ass_fontconfig.c b/libass/ass_fontconfig.c
index fd6ea33..10a17ed 100644
--- a/libass/ass_fontconfig.c
+++ b/libass/ass_fontconfig.c
@@ -336,6 +336,9 @@ ass_fontconfig_add_provider(ASS_Library *lib, ASS_FontSelector *selector,
                 "file found, using fallback.");
         FcConfigDestroy(fc->config);
         fc->config = FcInitLoadConfig();
+        FcConfigAppFontAddDir(fc->config, "~/Library/Fonts");
+        FcConfigAppFontAddDir(fc->config, "/Library/Fonts");
+        FcConfigAppFontAddDir(fc->config, "/Network/Library/Fonts");
     }
     if (fc->config)
         rc = FcConfigBuildFonts(fc->config);
-- 
2.27.0.windows.1

